import whisper
import os
import csv
import pandas as pd

keywords = {
    "банки": [
            "банк",
            "банковский",
            "банковская",
            "кредит",
            "депозит",
            "вклад",
            "дебетовая карта",
            "кредитная карта",
            "ипотека",
            "онлайн-банкинг",
            "мобильное приложение",
            "счет",
            "услуга",
            "перевод",
            "филиал",
            "сеть",
            "менеджмент",
            "риск",
            "безопасность",
            "транзакция",
            "платежная система",
            "комиссия",
            "регулировка",
            "инвестиция",
            "договор",
            "ставка",
            "реформа",
            "терминал",
            "брокер",
            "аналитик",
            "обмен",
            "реклама",
            "страховка",
            "облигационный рынок",
            "персонал",
            "интеграция",
            "курс",
            "поддержка",
            "контракт",
            "экспертиза",
            "репутация",
            "сегментация",
            "аналитика",
            "статистика",
            "тенденция",
            "экономика",
            "маркетинг",
            "банковская интеграция",
            "банковская репутация",
            "сбербанк",
            "втб",
            "газпромбанк",
            "альфа-банк",
            "росбанк",
            "тинькофф банк",
            "юникредит банк",
            "райффайзенбанк",
            "банк открытие",
            "промсвязьбанк",
            "россельхозбанк",
            "росгосстрах банк",
            "банк возрождение",
            "совкомбанк",
            "банк уралсиб",
            "московский кредитный банк",
            "русский стандарт",
            "почта банк",
            "россия",
            "бинбанк",
            "центрокредит банк",
            "ак барс банк",
            "банк зенит",
            "хоум кредит банк",
            "банк фк открытие",
            "банк дом.рф",
            "роскосмосбанк",
            "роснефть банк",
            "восточный банк",
            "мтс банк",
            "банк интеза",
            "югра",
            "банк ингосстрах",
            "банк приморье",
            "ситибанк",
            "траст",
            "росевробанк",
            "интеркоммерц банк",
            "банк кредит москва",
            "банк развития технологий",
            "союз",
            "кубань кредит",
            "проминвестбанк",
            "экспобанк",
            "фк открытие",
            "петрокоммерц",
            "росавтобанк",
            "банк сетелем",
            "русфинанс банк"
            ],
    "промо": [
            "реклама",
            "акция",
            "скидка",
            "спецпредложение",
            "распродажа",
            "бонус",
            "подарок",
            "лотерея",
            "розыгрыш",
            "конкурс",
            "вирусность",
            "инфлюенсер",
            "блогер",
            "брендинг",
            "промокод",
            "промоушн",
            "рекламный ролик",
            ],
}

DATASET_PATH = "/kaggle/input/mediawise-dataset-audio/"

def get_file_names(csv_file, file_id_header, data_dir):
    fids = [str(fid) for fid in pd.read_csv(csv_file)[file_id_header]]
    data_file_names = [file_name for file_name in os.listdir(data_dir)]
    exist_file_names = [file_name for file_name in data_file_names for fid in fids if fid in file_name]
    return exist_file_names

def main():
    model = whisper.load_model("medium")
    file_names = get_file_names("./train_segments.csv", "Advertisement ID", "./dataset/audio/")

if __name__ == "__main__":
    main()
